{"ast":null,"code":"var _jsxFileName = \"/Users/hackyourfuture/Desktop/reactWorkSpace/React-Assignment/React-Full-Stack-Ecommerce-Web-App/react-frontend/src/pages/PaymentReturnPage.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { deleteCookie, getCookie, setCookie } from \"../helpers/cookiesHelpers\";\nimport { OrderContext } from \"../contexts/OrderContext\";\nimport { fetchApi } from \"../helpers/fetchHelper\";\nimport { OrderInProcessContext } from \"../contexts/OrderInProcessContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PaymentReturnPage({\n  orderContext,\n  handleOrderContext\n}) {\n  _s();\n  //   const { orderContext, handleOrderContext } = useContext(\n  //     OrderInProcessContext\n  //   );\n  const [orderStatus, setOrderStatus] = useState(\"pending\");\n  console.log(orderContext);\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      fetchApi(`http://localhost:5000/api/checkout/status/${orderContext.id}`).then(res => {\n        console.log(res);\n        if (res.order_status === \"closed\") {\n          setOrderStatus(res.order.order_status);\n          deleteCookie(\"orderInProcess\");\n          clearInterval(intervalId);\n        }\n      });\n    }, 5000);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: orderStatus\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 10\n  }, this);\n}\n_s(PaymentReturnPage, \"AP4i6aDrs4Dz1zxUjBlDz/vqgX0=\");\n_c = PaymentReturnPage;\nvar _c;\n$RefreshReg$(_c, \"PaymentReturnPage\");","map":{"version":3,"names":["React","useContext","useEffect","useState","deleteCookie","getCookie","setCookie","OrderContext","fetchApi","OrderInProcessContext","jsxDEV","_jsxDEV","PaymentReturnPage","orderContext","handleOrderContext","_s","orderStatus","setOrderStatus","console","log","intervalId","setInterval","id","then","res","order_status","order","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/hackyourfuture/Desktop/reactWorkSpace/React-Assignment/React-Full-Stack-Ecommerce-Web-App/react-frontend/src/pages/PaymentReturnPage.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { deleteCookie, getCookie, setCookie } from \"../helpers/cookiesHelpers\";\nimport { OrderContext } from \"../contexts/OrderContext\";\nimport { fetchApi } from \"../helpers/fetchHelper\";\nimport { OrderInProcessContext } from \"../contexts/OrderInProcessContext\";\n\nexport default function PaymentReturnPage({\n  orderContext,\n  handleOrderContext,\n}) {\n  //   const { orderContext, handleOrderContext } = useContext(\n  //     OrderInProcessContext\n  //   );\n  const [orderStatus, setOrderStatus] = useState(\"pending\");\n  console.log(orderContext);\n\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      fetchApi(\n        `http://localhost:5000/api/checkout/status/${orderContext.id}`\n      ).then((res) => {\n        console.log(res);\n        if (res.order_status === \"closed\") {\n          setOrderStatus(res.order.order_status);\n          deleteCookie(\"orderInProcess\");\n          clearInterval(intervalId);\n        }\n      });\n    }, 5000);\n  }, []);\n\n  return <div>{orderStatus}</div>;\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,SAASC,YAAY,EAAEC,SAAS,EAAEC,SAAS,QAAQ,2BAA2B;AAC9E,SAASC,YAAY,QAAQ,0BAA0B;AACvD,SAASC,QAAQ,QAAQ,wBAAwB;AACjD,SAASC,qBAAqB,QAAQ,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1E,eAAe,SAASC,iBAAiBA,CAAC;EACxCC,YAAY;EACZC;AACF,CAAC,EAAE;EAAAC,EAAA;EACD;EACA;EACA;EACA,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,SAAS,CAAC;EACzDe,OAAO,CAACC,GAAG,CAACN,YAAY,CAAC;EAEzBX,SAAS,CAAC,MAAM;IACd,MAAMkB,UAAU,GAAGC,WAAW,CAAC,MAAM;MACnCb,QAAQ,CACL,6CAA4CK,YAAY,CAACS,EAAG,EAC/D,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACdN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;QAChB,IAAIA,GAAG,CAACC,YAAY,KAAK,QAAQ,EAAE;UACjCR,cAAc,CAACO,GAAG,CAACE,KAAK,CAACD,YAAY,CAAC;UACtCrB,YAAY,CAAC,gBAAgB,CAAC;UAC9BuB,aAAa,CAACP,UAAU,CAAC;QAC3B;MACF,CAAC,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOT,OAAA;IAAAiB,QAAA,EAAMZ;EAAW;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AACjC;AAACjB,EAAA,CA1BuBH,iBAAiB;AAAAqB,EAAA,GAAjBrB,iBAAiB;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}