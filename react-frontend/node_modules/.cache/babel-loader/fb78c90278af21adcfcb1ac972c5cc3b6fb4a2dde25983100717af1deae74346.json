{"ast":null,"code":"import { getCookie, setCookie } from \"./cookiesHelpers\";\nimport { fetchApi } from \"./fetchHelper\";\nexport function updateCart(productId, handleOrderContext, action, errorHandler) {\n  let guestCustomerId = getCookie(\"guestCustomerId\");\n  const fetchUrl = `http://localhost:500/api/cart/${action}`;\n  if (!guestCustomerId) {\n    guestCustomerId = JSON.stringify(Date.now()).slice(-9);\n    setCookie(\"guestCustomerId\", guestCustomerId);\n  }\n  const body = {\n    productId: parseInt(productId),\n    quantity: 1,\n    guestCustomerId: parseInt(guestCustomerId)\n  };\n  const options = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(body)\n  };\n  fetchApi(fetchUrl, options).then(res => {\n    setCookie(\"order\", JSON.stringify(res.order));\n    handleOrderContext();\n  }).catch(err => errorHandler(err));\n}","map":{"version":3,"names":["getCookie","setCookie","fetchApi","updateCart","productId","handleOrderContext","action","errorHandler","guestCustomerId","fetchUrl","JSON","stringify","Date","now","slice","body","parseInt","quantity","options","method","headers","then","res","order","catch","err"],"sources":["/Users/hackyourfuture/Desktop/reactWorkSpace/React-Assignment/React-Full-Stack-Ecommerce-Web-App/react-frontend/src/helpers/updateCartHelper.js"],"sourcesContent":["import { getCookie, setCookie } from \"./cookiesHelpers\";\nimport { fetchApi } from \"./fetchHelper\";\n\nexport function updateCart(\n  productId,\n  handleOrderContext,\n  action,\n  errorHandler\n) {\n  let guestCustomerId = getCookie(\"guestCustomerId\");\n  const fetchUrl = `http://localhost:500/api/cart/${action}`;\n\n  if (!guestCustomerId) {\n    guestCustomerId = JSON.stringify(Date.now()).slice(-9);\n    setCookie(\"guestCustomerId\", guestCustomerId);\n  }\n\n  const body = {\n    productId: parseInt(productId),\n    quantity: 1,\n    guestCustomerId: parseInt(guestCustomerId),\n  };\n\n  const options = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  };\n  fetchApi(fetchUrl, options)\n    .then((res) => {\n      setCookie(\"order\", JSON.stringify(res.order));\n      handleOrderContext();\n    })\n    .catch((err) => errorHandler(err));\n}\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,SAAS,QAAQ,kBAAkB;AACvD,SAASC,QAAQ,QAAQ,eAAe;AAExC,OAAO,SAASC,UAAUA,CACxBC,SAAS,EACTC,kBAAkB,EAClBC,MAAM,EACNC,YAAY,EACZ;EACA,IAAIC,eAAe,GAAGR,SAAS,CAAC,iBAAiB,CAAC;EAClD,MAAMS,QAAQ,GAAI,iCAAgCH,MAAO,EAAC;EAE1D,IAAI,CAACE,eAAe,EAAE;IACpBA,eAAe,GAAGE,IAAI,CAACC,SAAS,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IACtDb,SAAS,CAAC,iBAAiB,EAAEO,eAAe,CAAC;EAC/C;EAEA,MAAMO,IAAI,GAAG;IACXX,SAAS,EAAEY,QAAQ,CAACZ,SAAS,CAAC;IAC9Ba,QAAQ,EAAE,CAAC;IACXT,eAAe,EAAEQ,QAAQ,CAACR,eAAe;EAC3C,CAAC;EAED,MAAMU,OAAO,GAAG;IACdC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDL,IAAI,EAAEL,IAAI,CAACC,SAAS,CAACI,IAAI;EAC3B,CAAC;EACDb,QAAQ,CAACO,QAAQ,EAAES,OAAO,CAAC,CACxBG,IAAI,CAAEC,GAAG,IAAK;IACbrB,SAAS,CAAC,OAAO,EAAES,IAAI,CAACC,SAAS,CAACW,GAAG,CAACC,KAAK,CAAC,CAAC;IAC7ClB,kBAAkB,CAAC,CAAC;EACtB,CAAC,CAAC,CACDmB,KAAK,CAAEC,GAAG,IAAKlB,YAAY,CAACkB,GAAG,CAAC,CAAC;AACtC"},"metadata":{},"sourceType":"module","externalDependencies":[]}