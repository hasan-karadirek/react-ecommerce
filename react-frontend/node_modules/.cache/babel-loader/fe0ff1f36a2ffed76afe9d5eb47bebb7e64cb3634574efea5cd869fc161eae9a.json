{"ast":null,"code":"import React,{useContext}from\"react\";import{OrderContext}from\"../contexts/OrderContext\";import UpdateCartButton from\"../components/UpdateCartButton\";import{Link}from\"react-router-dom\";import{apiServer}from\"../environmentVariables\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function CartPage(_ref){var errorHandler=_ref.errorHandler;var _useContext=useContext(OrderContext),orderContext=_useContext.orderContext,handleOrderContext=_useContext.handleOrderContext;var totalQuantity=0;var cartItems=orderContext?orderContext.Products.map(function(product){totalQuantity+=product.OrderDetail.quantity;return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item-left\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"cart-product-image\",src:\"\".concat(apiServer,\"/api/productImages/\").concat(product.ProductImages[0].path.split(\"/\")[3]),alt:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-update\",children:[/*#__PURE__*/_jsx(\"p\",{children:product.name}),/*#__PURE__*/_jsx(UpdateCartButton,{handleOrderContext:handleOrderContext,productId:product.id,action:\"remove\",textContent:\"-\",errorHandler:errorHandler}),/*#__PURE__*/_jsx(\"span\",{children:product.OrderDetail.quantity}),/*#__PURE__*/_jsx(UpdateCartButton,{handleOrderContext:handleOrderContext,productId:product.id,action:\"add\",textContent:\"+\",errorHandler:errorHandler})]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"cart-product-price\",children:[product.price,\"$\"]})]});}):[];return orderContext?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-space\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-nav\",children:[/*#__PURE__*/_jsx(\"p\",{className:window.location.pathname===\"/cart\"?\"cart-nav-active\":\"\",children:\"Cart\"}),/*#__PURE__*/_jsx(\"p\",{className:window.location.pathname===\"/checkout\"?\"cart-nav-active\":\"\",children:\"Address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-items\",children:[cartItems.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"cart-item\",children:\"No product in the cart.\"}):cartItems,/*#__PURE__*/_jsxs(\"div\",{className:\"cart-total-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-total\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Total (\",\"\".concat(totalQuantity,\" products\"),\")\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",\"\".concat(orderContext.order_total,\"$\"),\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"to-checkout-button-container\",children:/*#__PURE__*/_jsx(Link,{to:\"/checkout\",className:\"to-checkout-link\",children:/*#__PURE__*/_jsx(\"button\",{className:\"to-checkout-button\",children:\"Go to Checkout\"})})})]})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"cart-items\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-space\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item\",children:\"no product in the cart\"})]});}","map":{"version":3,"names":["React","useContext","OrderContext","UpdateCartButton","Link","apiServer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CartPage","_ref","errorHandler","_useContext","orderContext","handleOrderContext","totalQuantity","cartItems","Products","map","product","OrderDetail","quantity","className","children","src","concat","ProductImages","path","split","alt","name","productId","id","action","textContent","price","window","location","pathname","length","order_total","to"],"sources":["/Users/hackyourfuture/Desktop/reactWorkSpace/react-ecommerce/react-ecommerce/react-frontend/src/pages/CartPage.js"],"sourcesContent":["import React, { useContext } from \"react\";\n\nimport { OrderContext } from \"../contexts/OrderContext\";\nimport UpdateCartButton from \"../components/UpdateCartButton\";\nimport { Link } from \"react-router-dom\";\nimport { apiServer } from \"../environmentVariables\";\n\nexport default function CartPage({ errorHandler }) {\n  const { orderContext, handleOrderContext } = useContext(OrderContext);\n\n  let totalQuantity = 0;\n  const cartItems = orderContext\n    ? orderContext.Products.map((product) => {\n        totalQuantity += product.OrderDetail.quantity;\n        return (\n          <div className=\"cart-item\">\n            <div className=\"cart-item-left\">\n              <img\n                className=\"cart-product-image\"\n                src={`${apiServer}/api/productImages/${\n                  product.ProductImages[0].path.split(\"/\")[3]\n                }`}\n                alt={product.name}\n              />\n              <div className=\"cart-update\">\n                <p>{product.name}</p>\n\n                <UpdateCartButton\n                  handleOrderContext={handleOrderContext}\n                  productId={product.id}\n                  action=\"remove\"\n                  textContent=\"-\"\n                  errorHandler={errorHandler}\n                />\n                <span>{product.OrderDetail.quantity}</span>\n                <UpdateCartButton\n                  handleOrderContext={handleOrderContext}\n                  productId={product.id}\n                  action=\"add\"\n                  textContent=\"+\"\n                  errorHandler={errorHandler}\n                />\n              </div>\n            </div>\n            <span className=\"cart-product-price\">{product.price}$</span>\n          </div>\n        );\n      })\n    : [];\n\n  return orderContext ? (\n    <>\n      <div className=\"navbar-space\"></div>\n      <div>\n        <div className=\"cart-nav\">\n          <p\n            className={\n              window.location.pathname === \"/cart\" ? \"cart-nav-active\" : \"\"\n            }\n          >\n            Cart\n          </p>\n          <p\n            className={\n              window.location.pathname === \"/checkout\" ? \"cart-nav-active\" : \"\"\n            }\n          >\n            Address\n          </p>\n        </div>\n        <div className=\"cart-items\">\n          {cartItems.length === 0 ? (\n            <div className=\"cart-item\">No product in the cart.</div>\n          ) : (\n            cartItems\n          )}\n          <div className=\"cart-total-container\">\n            <div className=\"cart-total\">\n              <span>Total ({`${totalQuantity} products`})</span>\n              <span>({`${orderContext.order_total}$`})</span>\n            </div>\n            <div className=\"to-checkout-button-container\">\n              <Link to=\"/checkout\" className=\"to-checkout-link\">\n                <button className=\"to-checkout-button\">Go to Checkout</button>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  ) : (\n    <div className=\"cart-items\">\n      <div className=\"navbar-space\"></div>\n      <div className=\"cart-item\">no product in the cart</div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}