{"ast":null,"code":"import _slicedToArray from\"/Users/hackyourfuture/Desktop/reactWorkSpace/react-ecommerce/react-ecommerce/react-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{fetchApi}from\"../helpers/fetchHelper\";export default function useApiFetch(url,option,errorHandler){var urlArr=url.split(\",\");var _useState=useState({products:[]}),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var promises=urlArr.map(function(url){return fetchApi(url,option);});Promise.all(promises).then(function(res){setResult(res[0]);setLoading(false);}).catch(function(err){return errorHandler(err);});},[url]);return[result,loading];}","map":{"version":3,"names":["React","useState","useEffect","fetchApi","useApiFetch","url","option","errorHandler","urlArr","split","_useState","products","_useState2","_slicedToArray","result","setResult","_useState3","_useState4","loading","setLoading","promises","map","Promise","all","then","res","catch","err"],"sources":["/Users/hackyourfuture/Desktop/reactWorkSpace/react-ecommerce/react-ecommerce/react-frontend/src/hooks/useApiFetch.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { fetchApi } from \"../helpers/fetchHelper\";\n\nexport default function useApiFetch(url, option, errorHandler) {\n  const urlArr = url.split(\",\");\n\n  const [result, setResult] = useState({ products: [] });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const promises = urlArr.map((url) => fetchApi(url, option));\n\n    Promise.all(promises)\n      .then((res) => {\n        setResult(res[0]);\n        setLoading(false);\n      })\n      .catch((err) => errorHandler(err));\n  }, [url]);\n  return [result, loading];\n}\n"],"mappings":"iLAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,wBAAwB,CAEjD,cAAe,SAAS,CAAAC,WAAWA,CAACC,GAAG,CAAEC,MAAM,CAAEC,YAAY,CAAE,CAC7D,GAAM,CAAAC,MAAM,CAAGH,GAAG,CAACI,KAAK,CAAC,GAAG,CAAC,CAE7B,IAAAC,SAAA,CAA4BT,QAAQ,CAAC,CAAEU,QAAQ,CAAE,EAAG,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAH,SAAA,IAA/CI,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA8Bf,QAAQ,CAAC,IAAI,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1Bf,SAAS,CAAC,UAAM,CACd,GAAM,CAAAkB,QAAQ,CAAGZ,MAAM,CAACa,GAAG,CAAC,SAAChB,GAAG,QAAK,CAAAF,QAAQ,CAACE,GAAG,CAAEC,MAAM,CAAC,GAAC,CAE3DgB,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC,CAClBI,IAAI,CAAC,SAACC,GAAG,CAAK,CACbV,SAAS,CAACU,GAAG,CAAC,CAAC,CAAC,CAAC,CACjBN,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDO,KAAK,CAAC,SAACC,GAAG,QAAK,CAAApB,YAAY,CAACoB,GAAG,CAAC,GAAC,CACtC,CAAC,CAAE,CAACtB,GAAG,CAAC,CAAC,CACT,MAAO,CAACS,MAAM,CAAEI,OAAO,CAAC,CAC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}