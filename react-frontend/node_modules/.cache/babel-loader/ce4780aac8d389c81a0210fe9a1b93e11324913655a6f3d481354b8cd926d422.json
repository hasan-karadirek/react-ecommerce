{"ast":null,"code":"import{apiServer}from\"../environmentVariables\";import{getCookie,setCookie}from\"./cookiesHelpers\";import{fetchApi}from\"./fetchHelper\";export function updateCart(productId,handleOrderContext,action,errorHandler){var guestCustomerId=getCookie(\"guestCustomerId\");var fetchUrl=\"\".concat(apiServer,\"/api/cart/\").concat(action);if(!guestCustomerId){guestCustomerId=JSON.stringify(Date.now()).slice(-9);setCookie(\"guestCustomerId\",guestCustomerId);}var body={productId:parseInt(productId),quantity:1,guestCustomerId:parseInt(guestCustomerId)};var options={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)};fetchApi(fetchUrl,options).then(function(res){setCookie(\"order\",JSON.stringify(res.order));handleOrderContext();}).catch(function(err){return errorHandler(err);});}","map":{"version":3,"names":["apiServer","getCookie","setCookie","fetchApi","updateCart","productId","handleOrderContext","action","errorHandler","guestCustomerId","fetchUrl","concat","JSON","stringify","Date","now","slice","body","parseInt","quantity","options","method","headers","then","res","order","catch","err"],"sources":["/Users/hackyourfuture/Desktop/reactWorkSpace/react-ecommerce/react-ecommerce/react-frontend/src/helpers/updateCartHelper.js"],"sourcesContent":["import { apiServer } from \"../environmentVariables\";\nimport { getCookie, setCookie } from \"./cookiesHelpers\";\nimport { fetchApi } from \"./fetchHelper\";\n\nexport function updateCart(\n  productId,\n  handleOrderContext,\n  action,\n  errorHandler\n) {\n  let guestCustomerId = getCookie(\"guestCustomerId\");\n  const fetchUrl = `${apiServer}/api/cart/${action}`;\n\n  if (!guestCustomerId) {\n    guestCustomerId = JSON.stringify(Date.now()).slice(-9);\n    setCookie(\"guestCustomerId\", guestCustomerId);\n  }\n\n  const body = {\n    productId: parseInt(productId),\n    quantity: 1,\n    guestCustomerId: parseInt(guestCustomerId),\n  };\n\n  const options = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  };\n  fetchApi(fetchUrl, options)\n    .then((res) => {\n      setCookie(\"order\", JSON.stringify(res.order));\n      handleOrderContext();\n    })\n    .catch((err) => errorHandler(err));\n}\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,yBAAyB,CACnD,OAASC,SAAS,CAAEC,SAAS,KAAQ,kBAAkB,CACvD,OAASC,QAAQ,KAAQ,eAAe,CAExC,MAAO,SAAS,CAAAC,UAAUA,CACxBC,SAAS,CACTC,kBAAkB,CAClBC,MAAM,CACNC,YAAY,CACZ,CACA,GAAI,CAAAC,eAAe,CAAGR,SAAS,CAAC,iBAAiB,CAAC,CAClD,GAAM,CAAAS,QAAQ,IAAAC,MAAA,CAAMX,SAAS,eAAAW,MAAA,CAAaJ,MAAM,CAAE,CAElD,GAAI,CAACE,eAAe,CAAE,CACpBA,eAAe,CAAGG,IAAI,CAACC,SAAS,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACtDd,SAAS,CAAC,iBAAiB,CAAEO,eAAe,CAAC,CAC/C,CAEA,GAAM,CAAAQ,IAAI,CAAG,CACXZ,SAAS,CAAEa,QAAQ,CAACb,SAAS,CAAC,CAC9Bc,QAAQ,CAAE,CAAC,CACXV,eAAe,CAAES,QAAQ,CAACT,eAAe,CAC3C,CAAC,CAED,GAAM,CAAAW,OAAO,CAAG,CACdC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDL,IAAI,CAAEL,IAAI,CAACC,SAAS,CAACI,IAAI,CAC3B,CAAC,CACDd,QAAQ,CAACO,QAAQ,CAAEU,OAAO,CAAC,CACxBG,IAAI,CAAC,SAACC,GAAG,CAAK,CACbtB,SAAS,CAAC,OAAO,CAAEU,IAAI,CAACC,SAAS,CAACW,GAAG,CAACC,KAAK,CAAC,CAAC,CAC7CnB,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAC,CACDoB,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAnB,YAAY,CAACmB,GAAG,CAAC,GAAC,CACtC"},"metadata":{},"sourceType":"module","externalDependencies":[]}